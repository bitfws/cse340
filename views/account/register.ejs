<% if (messages && messages.notice) { %>
  <div class="flash-message">
    <%- messages() %>
  </div>
<% } %>

<% if (errors) { %>
  <ul class="notice">
    <% errors.array().forEach(error => { %>
      <li><%= error.msg %></li>
    <% }) %>
  </ul>
<% } %>

<h1><%= title %></h1>

<form id="registerForm" action="/account/register" method="post">

  <label for="account_firstname">First Name</label>
  <input
    type="text"
    id="account_firstname"
    name="account_firstname"
    value="<%= locals.account_firstname || '' %>"
    required
  >

  <label for="account_lastname">Last Name</label>
  <input
    type="text"
    id="account_lastname"
    name="account_lastname"
    value="<%= locals.account_lastname || '' %>"
    required
  >

  <label for="account_email">Email</label>
  <input
    type="email"
    id="account_email"
    name="account_email"
    placeholder="example@mail.com"
    value="<%= locals.account_email || '' %>"
    required
  >

  <label for="account_password">Password</label>

  <div class="password-rules">
    Password must be at least 12 characters and include:
    <ul>
      <li>1 uppercase letter</li>
      <li>1 lowercase letter</li>
      <li>1 number</li>
      <li>1 symbol</li>
    </ul>
  </div>

  <input
    type="password"
    id="account_password"
    name="account_password"
    required
    pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"
    title="At least 12 characters with uppercase, lowercase, number, and symbol."
  >

  <button type="submit">Register</button>
</form>

<p class="login-link">
  Already have an account?
  <a href="/account/login">Login</a>
</p>
